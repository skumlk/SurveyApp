[{"/var/www/survey-app/web-survey-app/src/index.js":"1","/var/www/survey-app/web-survey-app/src/reportWebVitals.js":"2","/var/www/survey-app/web-survey-app/src/App.js":"3","/var/www/survey-app/web-survey-app/src/UnauthenticatedApp.js":"4","/var/www/survey-app/web-survey-app/src/AuthenticatedApp.js":"5","/var/www/survey-app/web-survey-app/src/services/auth.js":"6","/var/www/survey-app/web-survey-app/src/Header.js":"7","/var/www/survey-app/web-survey-app/src/services/survey.js":"8","/var/www/survey-app/web-survey-app/src/helpers/axiosHelper.js":"9","/var/www/survey-app/web-survey-app/src/helpers/authHelpers.js":"10"},{"size":979,"mtime":1613657559979,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1610732399077,"results":"13","hashOfConfig":"12"},{"size":467,"mtime":1617268993871,"results":"14","hashOfConfig":"12"},{"size":3871,"mtime":1617097166173,"results":"15","hashOfConfig":"12"},{"size":3339,"mtime":1617271025943,"results":"16","hashOfConfig":"12"},{"size":2055,"mtime":1616914737818,"results":"17","hashOfConfig":"12"},{"size":460,"mtime":1617263481247,"results":"18","hashOfConfig":"12"},{"size":2066,"mtime":1617270881679,"results":"19","hashOfConfig":"12"},{"size":304,"mtime":1617097261503,"results":"20","hashOfConfig":"12"},{"size":83,"mtime":1617252785443,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"kqivq7",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/var/www/survey-app/web-survey-app/src/index.js",[],["46","47"],"/var/www/survey-app/web-survey-app/src/reportWebVitals.js",[],"/var/www/survey-app/web-survey-app/src/App.js",["48"],"import UnauehenticatedApp from \"./UnauthenticatedApp\";\nimport AuthenticatedApp from \"./AuthenticatedApp\";\nimport { useAuth } from \"./services/auth\";\nimport Header from \"./Header\";\nimport UnauthenticatedApp from \"./UnauthenticatedApp\";\nimport \"./styles/style.scss\"\n\nfunction App() {\n\n  const { user } = useAuth()\n\n  return (\n    <div className=\"App\">\n      <Header/>\n      { user ? <AuthenticatedApp /> : <UnauthenticatedApp />}\n    </div>\n  );\n}\n\nexport default App;\n","/var/www/survey-app/web-survey-app/src/UnauthenticatedApp.js",["49","50","51","52"],"import React from \"react\"\nimport { Route, Link, Switch, Redirect } from \"react-router-dom\";\nimport { useFormik } from 'formik';\nimport { Flex, Spacer, Heading, Button, Input } from \"@chakra-ui/react\"\nimport { useAuth } from \"./services/auth\";\n\nfunction Login() {\n\n  const { login } = useAuth()\n\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n\n    onSubmit: values => {\n      const handleLogin = async () => {\n        const data = await login.mutate({ email: values.email, password: values.password })\n      }\n\n      handleLogin()\n    },\n  });\n\n  return <React.Fragment>\n    <form onSubmit={formik.handleSubmit} className=\"m-auto h-full w-full\">\n      <Flex align=\"center\" justify=\"center\" direction=\"column\" className=\"h-full mx-auto\" style={{ width: '500px' }}>\n        <Heading as=\"h3\">Login</Heading>\n        <div className=\"w-full\">\n          <label htmlFor=\"email\" className=\"mb-5\">Email Address</label>\n          <Input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={formik.handleChange}\n            value={formik.values.email}\n            className=\"w-100 mb-5\"\n          />\n        </div>\n        <div className=\"w-full\">\n          <label htmlFor=\"password\" className=\"mb-5\">Password</label>\n          <Input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            onChange={formik.handleChange}\n            value={formik.values.password}\n            className=\"w-full mb-5\"\n          />\n        </div>\n        <Button type=\"submit\" className=\"mb-5\">Login</Button>\n        <div>You don't have an account? <Link to=\"/register\">Register</Link></div>\n      </Flex>\n    </form>\n  </React.Fragment>\n}\n\nfunction Register() {\n\n  const { register } = useAuth()\n\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      email: '',\n      password: ''\n    },\n\n    onSubmit: values => {\n      const handleRegister = async () => {\n        const { email, name, password } = values\n        const data = await register.mutate({ email, name, password })\n      }\n\n      handleRegister()\n    },\n  });\n\n  return <React.Fragment>\n    <form onSubmit={formik.handleSubmit} className=\"m-auto h-full w-full\">\n      <Flex align=\"center\" justify=\"center\" direction=\"column\" className=\"h-full mx-auto\" style={{ width: '500px' }}>\n        <Heading as=\"h3\">Register</Heading>\n        <div className=\"w-full\">\n          <label htmlFor=\"email\" className=\"mb-5\">Full Name</label>\n          <Input\n            id=\"name\"\n            name=\"name\"\n            onChange={formik.handleChange}\n            value={formik.values.name}\n            className=\"w-100 mb-5\"\n          />\n        </div>\n        <div className=\"w-full\">\n          <label htmlFor=\"email\" className=\"mb-5\">Email Address</label>\n          <Input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={formik.handleChange}\n            value={formik.values.email}\n            className=\"w-100 mb-5\"\n          />\n        </div>\n        <div className=\"w-full\">\n          <label htmlFor=\"password\" className=\"mb-5\">Password</label>\n          <Input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            onChange={formik.handleChange}\n            value={formik.values.password}\n            className=\"w-full mb-5\"\n          />\n        </div>\n        <Button type=\"submit\" className=\"mb-5\">Register</Button>\n        <div>You already have an account? <Link to=\"/login\">Login</Link></div>\n      </Flex>\n    </form>\n  </React.Fragment>\n}\n\nfunction UnauthenticatedApp() {\n  return (\n    <Switch>\n      <Route path=\"/login\" component={Login} exact />\n      <Route path=\"/register\" component={Register} exact />\n      <Route path=\"/\" component={Login} exact />\n    </Switch>\n  );\n}\n\nexport default UnauthenticatedApp;","/var/www/survey-app/web-survey-app/src/AuthenticatedApp.js",["53","54","55","56"],"/var/www/survey-app/web-survey-app/src/services/auth.js",["57","58"],"import axios from \"axios\"\nimport { createContext, useContext, useEffect, useState } from \"react\"\nimport { useMutation } from \"react-query\";\nimport { useHistory } from \"react-router-dom\";\nimport { axiosInstance } from \"../helpers/axiosHelper\";\n\nconst jwt = require('jsonwebtoken');\n\nconst AuthContext = createContext()\n\nfunction AuthProvider({ children }) {\n    const [user, setUser] = useState(null)\n    const value = useAuthFunction({user, setUser})\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nfunction useAuth() {\n    const data = useContext(AuthContext)\n    return data\n}\n\nfunction useAuthFunction({user, setUser}) {\n\n    let history = useHistory();\n\n    function saveToken(token) {\n        localStorage.setItem(\"token\", token)\n        const user = jwt.decode(token)\n        setUser(user)\n    }\n\n    function isUserLoggedIn() {\n        const token = localStorage.getItem(\"token\")\n        if (token) {\n            const user = jwt.decode(token)\n            setUser(user)\n        }\n    }\n\n    function logout() {\n        localStorage.removeItem(\"token\")\n        setUser(null)\n    }\n\n    const register = useMutation(({ name, email, password }) => {\n        const data = { email, password, name }\n        return axiosInstance.post(\"auth/register\", data)\n            .then((result) => {\n                const data = result.data\n                if (data.success){\n                    saveToken(data.data.token)\n                    history.push(\"/\")\n                }\n            })\n    });\n\n    const login = useMutation(({ email, password }) => {\n        const data = { email, password }\n        return axiosInstance.post(\"auth/login\", data)\n            .then((result) => {\n                const data = result.data\n                if (data.success){\n                    saveToken(data.data.token)\n                    history.push(\"/\")\n                }\n            })\n    });\n\n    useEffect(() => {\n        isUserLoggedIn()\n    }, [])\n\n    return { user, register, login, logout }\n}\n\nexport { useAuth, AuthProvider }","/var/www/survey-app/web-survey-app/src/Header.js",[],"/var/www/survey-app/web-survey-app/src/services/survey.js",["59","60"],"/var/www/survey-app/web-survey-app/src/helpers/axiosHelper.js",[],"/var/www/survey-app/web-survey-app/src/helpers/authHelpers.js",[],{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":1,"column":8,"nodeType":"67","messageId":"68","endLine":1,"endColumn":26},{"ruleId":"65","severity":1,"message":"69","line":2,"column":31,"nodeType":"67","messageId":"68","endLine":2,"endColumn":39},{"ruleId":"65","severity":1,"message":"70","line":4,"column":16,"nodeType":"67","messageId":"68","endLine":4,"endColumn":22},{"ruleId":"65","severity":1,"message":"71","line":19,"column":15,"nodeType":"67","messageId":"68","endLine":19,"endColumn":19},{"ruleId":"65","severity":1,"message":"71","line":73,"column":15,"nodeType":"67","messageId":"68","endLine":73,"endColumn":19},{"ruleId":"65","severity":1,"message":"72","line":2,"column":17,"nodeType":"67","messageId":"68","endLine":2,"endColumn":26},{"ruleId":"65","severity":1,"message":"73","line":4,"column":10,"nodeType":"67","messageId":"68","endLine":4,"endColumn":14},{"ruleId":"65","severity":1,"message":"70","line":4,"column":16,"nodeType":"67","messageId":"68","endLine":4,"endColumn":22},{"ruleId":"65","severity":1,"message":"74","line":4,"column":24,"nodeType":"67","messageId":"68","endLine":4,"endColumn":31},{"ruleId":"65","severity":1,"message":"75","line":1,"column":8,"nodeType":"67","messageId":"68","endLine":1,"endColumn":13},{"ruleId":"76","severity":1,"message":"77","line":71,"column":8,"nodeType":"78","endLine":71,"endColumn":10,"suggestions":"79"},{"ruleId":"65","severity":1,"message":"80","line":3,"column":10,"nodeType":"67","messageId":"68","endLine":3,"endColumn":22},{"ruleId":"65","severity":1,"message":"81","line":45,"column":28,"nodeType":"67","messageId":"68","endLine":45,"endColumn":38},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"no-unused-vars","'UnauehenticatedApp' is defined but never used.","Identifier","unusedVar","'Redirect' is defined but never used.","'Spacer' is defined but never used.","'data' is assigned a value but never used.","'useEffect' is defined but never used.","'Flex' is defined but never used.","'Heading' is defined but never used.","'axios' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'isUserLoggedIn'. Either include it or remove the dependency array.","ArrayExpression",["84"],"'getAuthToken' is defined but never used.","'surveyItem' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"85","fix":"86"},"Update the dependencies array to be: [isUserLoggedIn]",{"range":"87","text":"88"},[1970,1972],"[isUserLoggedIn]"]